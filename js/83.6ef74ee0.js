"use strict";(self["webpackChunkvue_default_ts"]=self["webpackChunkvue_default_ts"]||[]).push([[83],{83:function(e,t,i){i.r(t),i.d(t,{default:function(){return b}});var r,n=i(252),a=function(e){return(0,n.dD)("data-v-529907dd"),e=e(),(0,n.Cn)(),e},s=a((function(){return(0,n._)("div",{class:"container"},[(0,n.Uk)(" click to see boom effect with sound"),(0,n._)("br"),(0,n.Uk)("Осторожно минус уши ")],-1)}));function o(e,t,i,r,a,o){return(0,n.wg)(),(0,n.iD)("div",null,[s,(0,n._)("canvas",{onClick:t[0]||(t[0]=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.showExplosion&&e.showExplosion.apply(e,t)}),id:"canvas1"})])}var u=[],l=function(){function e(e,t,i){Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"ctx",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"spriteWidth",{enumerable:!0,configurable:!0,writable:!0,value:200}),Object.defineProperty(this,"spriteHeight",{enumerable:!0,configurable:!0,writable:!0,value:179}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:this.spriteWidth/2}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:this.spriteHeight/2}),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:new Image}),Object.defineProperty(this,"frame",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"timer",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"angle",{enumerable:!0,configurable:!0,writable:!0,value:6.2*Math.random()}),Object.defineProperty(this,"sound",{enumerable:!0,configurable:!0,writable:!0,value:new Audio("./resourses/sounds/Fire impact 1.wav")}),this.image.src="./resourses/sprites/boom.png",this.sound.volume=.2}return Object.defineProperty(e.prototype,"update",{enumerable:!1,configurable:!0,writable:!0,value:function(){0===this.frame&&this.sound.play(),this.timer++,this.timer%10===0&&this.frame++}}),Object.defineProperty(e.prototype,"draw",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.ctx.save(),this.ctx.translate(this.x,this.y),this.ctx.rotate(this.angle),this.ctx.drawImage(this.image,this.spriteWidth*this.frame,0,this.spriteWidth,this.spriteHeight,0-this.width/2,0-this.height/2,this.width,this.height),this.ctx.restore()}}),e}(),c=(0,n.aZ)({data:function(){return{ctx:null}},methods:{showExplosion:function(e){console.log("explosions",u),this.ctx&&u.push(new l(e.offsetX,e.offsetY,this.ctx))}},mounted:function(){var e=document.getElementById("canvas1"),t=e.getContext("2d");function i(){t.clearRect(0,0,e.width,e.height),u.forEach((function(e,t){e.update(),e.draw(),u[t].frame>5&&u.splice(t,1)})),r=requestAnimationFrame(i)}this.ctx=t,e.width=500,e.height=500,i()},unmounted:function(){cancelAnimationFrame(r)}}),h=i(744);const f=(0,h.Z)(c,[["render",o],["__scopeId","data-v-529907dd"]]);var b=f}}]);
//# sourceMappingURL=83.6ef74ee0.js.map