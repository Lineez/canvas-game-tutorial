"use strict";(self["webpackChunkvue_default_ts"]=self["webpackChunkvue_default_ts"]||[]).push([[104],{655:function(e,t,r){r.d(t,{ZT:function(){return a},ev:function(){return n}});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)};function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}Object.create;function n(e,t,r){if(r||2===arguments.length)for(var i,a=0,n=t.length;a<n;a++)!i&&a in t||(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}Object.create},104:function(e,t,r){r.r(t),r.d(t,{default:function(){return _}});var i=r(252),a=function(e){return(0,i.dD)("data-v-5bb835ea"),e=e(),(0,i.Cn)(),e},n=a((function(){return(0,i._)("canvas",{id:"canvas1"},null,-1)})),l=[n];function o(e,t,r,a,n,o){return(0,i.wg)(),(0,i.iD)("div",null,l)}var u,b,c,f,h=r(655),s=function(){function e(e,t,r){Object.defineProperty(this,"ctx",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"enemies",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"enemyInterval",{enumerable:!0,configurable:!0,writable:!0,value:500}),Object.defineProperty(this,"enemyTimer",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"enemyMap",{enumerable:!0,configurable:!0,writable:!0,value:{Worm:p,Ghost:d,Spider:y}})}return Object.defineProperty(e.prototype,"update",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.enemies=this.enemies.filter((function(e){return!e.markedForDelete})),this.enemyTimer>this.enemyInterval?(this.addNewEnemy(),this.enemyTimer=0,console.log(this.enemies)):this.enemyTimer+=e,this.enemies.forEach((function(t){return t.update(e)}))}}),Object.defineProperty(e.prototype,"draw",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.enemies.forEach((function(t){return t.draw(e.ctx)}))}}),Object.defineProperty(e.prototype,"addNewEnemy",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=Object.keys(this.enemyMap),t=Math.floor(Math.random()*e.length),r=this.enemyMap[e[t]];this.enemies.push(new r(this))}}),e}(),m=function(){function e(e){Object.defineProperty(this,"game",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"markedForDelete",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"frameX",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"maxFrame",{enumerable:!0,configurable:!0,writable:!0,value:5}),Object.defineProperty(this,"frameInterval",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"frameTimer",{enumerable:!0,configurable:!0,writable:!0,value:0})}return Object.defineProperty(e.prototype,"update",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.x-=this.velocityX*e,this.x<-this.width&&(this.markedForDelete=!0),this.frameTimer>this.frameInterval?(this.frameX<this.maxFrame?this.frameX++:this.frameX=0,this.frameTimer=0):this.frameTimer+=e}}),Object.defineProperty(e.prototype,"draw",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.drawImage(this.image,this.frameX*this.spriteWidth,0,this.spriteWidth,this.spriteHeight,this.x,this.y,this.width,this.height)}}),e}(),p=function(e){function t(t){var r=e.call(this,t)||this;return Object.defineProperty(r,"spriteWidth",{enumerable:!0,configurable:!0,writable:!0,value:229}),Object.defineProperty(r,"spriteHeight",{enumerable:!0,configurable:!0,writable:!0,value:171}),Object.defineProperty(r,"width",{enumerable:!0,configurable:!0,writable:!0,value:.5*r.spriteWidth}),Object.defineProperty(r,"height",{enumerable:!0,configurable:!0,writable:!0,value:.5*r.spriteHeight}),Object.defineProperty(r,"x",{enumerable:!0,configurable:!0,writable:!0,value:r.game.width}),Object.defineProperty(r,"y",{enumerable:!0,configurable:!0,writable:!0,value:r.game.height-r.height}),Object.defineProperty(r,"image",{enumerable:!0,configurable:!0,writable:!0,value:new Image}),Object.defineProperty(r,"velocityX",{enumerable:!0,configurable:!0,writable:!0,value:.1*Math.random()+.1}),r.image.src="./resourses/sprites/enemy_worm.png",r}return(0,h.ZT)(t,e),t}(m),d=function(e){function t(t){var r=e.call(this,t)||this;return Object.defineProperty(r,"spriteWidth",{enumerable:!0,configurable:!0,writable:!0,value:261}),Object.defineProperty(r,"spriteHeight",{enumerable:!0,configurable:!0,writable:!0,value:209}),Object.defineProperty(r,"width",{enumerable:!0,configurable:!0,writable:!0,value:.5*r.spriteWidth}),Object.defineProperty(r,"height",{enumerable:!0,configurable:!0,writable:!0,value:.5*r.spriteHeight}),Object.defineProperty(r,"x",{enumerable:!0,configurable:!0,writable:!0,value:r.game.width}),Object.defineProperty(r,"y",{enumerable:!0,configurable:!0,writable:!0,value:Math.random()*r.game.height*.6}),Object.defineProperty(r,"image",{enumerable:!0,configurable:!0,writable:!0,value:new Image}),Object.defineProperty(r,"velocityX",{enumerable:!0,configurable:!0,writable:!0,value:.2*Math.random()+.1}),Object.defineProperty(r,"opacity",{enumerable:!0,configurable:!0,writable:!0,value:Math.random()+.1}),Object.defineProperty(r,"angle",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(r,"curve",{enumerable:!0,configurable:!0,writable:!0,value:3*Math.random()}),r.image.src="./resourses/sprites/enemy_ghost.png",r}return(0,h.ZT)(t,e),Object.defineProperty(t.prototype,"update",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype.update.call(this,t),this.y+=Math.sin(this.angle)*this.curve,this.angle+=.04}}),Object.defineProperty(t.prototype,"draw",{enumerable:!1,configurable:!0,writable:!0,value:function(t){t.save(),t.globalAlpha=this.opacity,e.prototype.draw.call(this,t),t.restore()}}),t}(m),y=function(e){function t(t){var r=e.call(this,t)||this;return Object.defineProperty(r,"spriteWidth",{enumerable:!0,configurable:!0,writable:!0,value:310}),Object.defineProperty(r,"spriteHeight",{enumerable:!0,configurable:!0,writable:!0,value:175}),Object.defineProperty(r,"width",{enumerable:!0,configurable:!0,writable:!0,value:.5*r.spriteWidth}),Object.defineProperty(r,"height",{enumerable:!0,configurable:!0,writable:!0,value:.5*r.spriteHeight}),Object.defineProperty(r,"x",{enumerable:!0,configurable:!0,writable:!0,value:Math.random()*r.game.width}),Object.defineProperty(r,"y",{enumerable:!0,configurable:!0,writable:!0,value:0-r.height}),Object.defineProperty(r,"image",{enumerable:!0,configurable:!0,writable:!0,value:new Image}),Object.defineProperty(r,"velocityX",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(r,"velocityY",{enumerable:!0,configurable:!0,writable:!0,value:.1*Math.random()+.1}),Object.defineProperty(r,"maxLength",{enumerable:!0,configurable:!0,writable:!0,value:Math.random()*r.game.height}),r.image.src="./resourses/sprites/enemy_spider.png",r}return(0,h.ZT)(t,e),Object.defineProperty(t.prototype,"update",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype.update.call(this,t),this.y<-this.height&&(this.markedForDelete=!0),this.y+=this.velocityY*t,this.y>this.maxLength&&(this.velocityY*=-1)}}),Object.defineProperty(t.prototype,"draw",{enumerable:!1,configurable:!0,writable:!0,value:function(t){t.beginPath(),t.moveTo(this.x+this.width/2,0),t.lineTo(this.x+this.width/2,this.y+10),t.stroke(),e.prototype.draw.call(this,t)}}),t}(m),g=0,v=0;function w(e){void 0===e&&(e=0),c.clearRect(0,0,b.width,b.height),g=e-v,v=e,f.update(g),f.draw(),u=requestAnimationFrame(w)}var O=(0,i.aZ)({mounted:function(){b=document.getElementById("canvas1"),c=b.getContext("2d"),b.width=500,b.height=800,f=new s(c,b.width,b.height),w()},unmounted:function(){cancelAnimationFrame(u)}}),j=r(744);const P=(0,j.Z)(O,[["render",o],["__scopeId","data-v-5bb835ea"]]);var _=P}}]);
//# sourceMappingURL=104.ef0e72d4.js.map