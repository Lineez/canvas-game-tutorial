"use strict";(self["webpackChunkvue_default_ts"]=self["webpackChunkvue_default_ts"]||[]).push([[879],{655:function(e,t,i){i.d(t,{ZT:function(){return a},ev:function(){return n}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},r(e,t)};function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}Object.create;function n(e,t,i){if(i||2===arguments.length)for(var r,a=0,n=t.length;a<n;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}Object.create},879:function(e,t,i){i.r(t),i.d(t,{default:function(){return I}});var r=i(252),a=function(e){return(0,r.dD)("data-v-a04a0436"),e=e(),(0,r.Cn)(),e},n=a((function(){return(0,r._)("canvas",{id:"collisionCanvas"},null,-1)}));function o(e,t,i,a,o,l){return(0,r.wg)(),(0,r.iD)("div",null,[n,(0,r._)("canvas",{onClick:t[0]||(t[0]=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.killRaven&&e.killRaven.apply(e,t)}),id:"canvas1"}),e.gameOver?((0,r.wg)(),(0,r.iD)("button",{key:0,onClick:t[1]||(t[1]=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.restart&&e.restart.apply(e,t)}),class:"button"},"restart")):(0,r.kq)("",!0)])}var l,s,u,c,h,f=i(655),b=i(262),d=0,m=(0,b.iH)(!1),p=0,g=500,v=0,y=[],w=[],O=[],j=function(){function e(){Object.defineProperty(this,"spriteWidth",{enumerable:!0,configurable:!0,writable:!0,value:271}),Object.defineProperty(this,"spriteHeight",{enumerable:!0,configurable:!0,writable:!0,value:194}),Object.defineProperty(this,"sizeModifier",{enumerable:!0,configurable:!0,writable:!0,value:.6*Math.random()+.4}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:this.spriteWidth*this.sizeModifier}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:this.spriteHeight*this.sizeModifier}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:s.width}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:Math.random()*(s.height-this.height)}),Object.defineProperty(this,"directionX",{enumerable:!0,configurable:!0,writable:!0,value:1*Math.random()+3}),Object.defineProperty(this,"directionY",{enumerable:!0,configurable:!0,writable:!0,value:5*Math.random()-2.5}),Object.defineProperty(this,"markedForDelete",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:new Image}),Object.defineProperty(this,"frame",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"maxFrame",{enumerable:!0,configurable:!0,writable:!0,value:4}),Object.defineProperty(this,"timeSienceFlap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"flapInterval",{enumerable:!0,configurable:!0,writable:!0,value:100*Math.random()+50}),Object.defineProperty(this,"randomColors",{enumerable:!0,configurable:!0,writable:!0,value:[Math.floor(255*Math.random()),Math.floor(255*Math.random()),Math.floor(255*Math.random())]}),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:"rgb(".concat(this.randomColors[0],", ").concat(this.randomColors[1],", ").concat(this.randomColors[2],")")}),Object.defineProperty(this,"hasTrail",{enumerable:!0,configurable:!0,writable:!0,value:Math.random()>.5}),this.image.src="./resourses/sprites/raven.png"}return Object.defineProperty(e.prototype,"update",{enumerable:!1,configurable:!0,writable:!0,value:function(e){(this.y<0||this.y>s.height-this.height)&&(this.directionY=-1*this.directionY),this.x-=this.directionX,this.y+=this.directionY,this.x<0-this.width&&(this.markedForDelete=!0),this.timeSienceFlap+=e,this.timeSienceFlap>this.flapInterval&&(this.frame>this.maxFrame?this.frame=0:this.frame++,this.timeSienceFlap=0,this.hasTrail&&w.push(new P(this.x,this.y,this.width,this.color))),this.x<0-this.width&&(m.value=!0)}}),Object.defineProperty(e.prototype,"draw",{enumerable:!1,configurable:!0,writable:!0,value:function(){h.fillStyle=this.color,h.fillRect(this.x,this.y,this.width,this.height),u.drawImage(this.image,this.spriteWidth*this.frame,0,this.spriteWidth,this.spriteHeight,this.x,this.y,this.width,this.height)}}),e}(),P=function(){function e(e,t,i,r){Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:Math.random()*this.size/10}),Object.defineProperty(this,"maxRadius",{enumerable:!0,configurable:!0,writable:!0,value:10*Math.random()+35}),Object.defineProperty(this,"markedForDelete",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"speedX",{enumerable:!0,configurable:!0,writable:!0,value:1*Math.random()+.5}),this.x=e+this.size/2+Math.random(),this.y=t+this.size/3+Math.random()}return Object.defineProperty(e.prototype,"update",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.x+=this.speedX,this.radius+=.5,this.radius>this.maxRadius-5&&(this.markedForDelete=!0)}}),Object.defineProperty(e.prototype,"draw",{enumerable:!1,configurable:!0,writable:!0,value:function(){u.save(),u.globalAlpha=1-this.radius/this.maxRadius,u.beginPath(),u.fillStyle=this.color,u.arc(this.x,this.y,this.radius,0,2*Math.PI),u.fill(),u.restore()}}),e}(),x=function(){function e(e,t,i){Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:new Image}),Object.defineProperty(this,"spriteWidth",{enumerable:!0,configurable:!0,writable:!0,value:200}),Object.defineProperty(this,"spriteHeight",{enumerable:!0,configurable:!0,writable:!0,value:179}),Object.defineProperty(this,"sound",{enumerable:!0,configurable:!0,writable:!0,value:new Audio("./resourses/sounds/Fire impact 1.wav")}),Object.defineProperty(this,"timeSinceLastFrame",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"frameInterval",{enumerable:!0,configurable:!0,writable:!0,value:50}),Object.defineProperty(this,"frame",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"markedForDelete",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.image.src="./resourses/sprites/boom.png",this.sound.volume=.2}return Object.defineProperty(e.prototype,"update",{enumerable:!1,configurable:!0,writable:!0,value:function(e){0===this.frame&&this.sound.play(),this.timeSinceLastFrame+=e,this.timeSinceLastFrame>this.frameInterval&&(this.frame++,this.timeSinceLastFrame=0),this.frame>5&&(this.markedForDelete=!0)}}),Object.defineProperty(e.prototype,"draw",{enumerable:!1,configurable:!0,writable:!0,value:function(){u&&u.drawImage(this.image,this.frame*this.spriteWidth,0,this.spriteWidth,this.spriteHeight,this.x,this.y,this.size,this.size)}}),e}();function F(){u.save(),u.font="50px Impact",u.fillStyle="black",u.fillText("Score: "+d,50,75),u.fillStyle="red",u.fillText("Score: "+d,55,80),u.restore()}function k(){u.save(),u.font="50px Impact",u.fillStyle="red",u.textAlign="center",u.fillText("Game over, score is: "+d,s.width/2,s.height/2),u.restore()}function C(e){u.clearRect(0,0,s.width,s.height),h.clearRect(0,0,s.width,s.height);var t=e-v;v=e,p+=t,p>g&&(y.push(new j),p=0,y.sort((function(e,t){return e.width-t.width}))),F(),(0,f.ev)((0,f.ev)((0,f.ev)([],w,!0),y,!0),O,!0).forEach((function(e){return e.update(t)})),(0,f.ev)((0,f.ev)((0,f.ev)([],w,!0),y,!0),O,!0).forEach((function(e){return e.draw()})),y=y.filter((function(e){return!e.markedForDelete})),O=O.filter((function(e){return!e.markedForDelete})),w=w.filter((function(e){return!e.markedForDelete})),m.value?k():l=requestAnimationFrame(C)}var M=(0,r.aZ)({data:function(){return{collisionCtx:h,gameOver:m}},methods:{killRaven:function(e){if(this.collisionCtx){var t=this.collisionCtx.getImageData(e.offsetX,e.offsetY,1,1),i=t.data;y.forEach((function(e){e.randomColors[0]===i[0]&&e.randomColors[1]===i[1]&&e.randomColors[2]===i[2]&&(e.markedForDelete=!0,d++,O.push(new x(e.x,e.y,e.width)),console.log("explosionsm, explosions",O))}))}},restart:function(){y=[],w=[],O=[],m.value=!1,d=0,C(0)}},mounted:function(){s=document.getElementById("canvas1"),u=s.getContext("2d"),s.width=500,s.height=500,c=document.getElementById("collisionCanvas"),h=c.getContext("2d"),c.width=500,c.height=500,this.collisionCtx=h,C(0)},unmounted:function(){cancelAnimationFrame(l)}}),S=i(744);const _=(0,S.Z)(M,[["render",o],["__scopeId","data-v-a04a0436"]]);var I=_}}]);
//# sourceMappingURL=879.e1921ffd.js.map